<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Visualización de datos</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <link rel="stylesheet" href="styles.css">
    <script src="./library/d3.min.js"></script>
    <script src="./library/d3.layout.cloud.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.3.0/papaparse.min.js"></script>
</head>

<body>

    <!-- Barra de navegación -->

    <div id="navbar-container"></div>

    <!-- Contenido de la página -->
    <div class="container">
        <h1 class="text-center my-4">
            Visualización de datos de artículos de investigación
        </h1>



        <!-- Sección de gráficos -->
        <div class="row">
            <div class="col-md-12">
                <h2 class="my-4">Número de artículos por año (2010-2023)</h2>
                <div class="chart-container">
                    <canvas id="chart1"></canvas>
                </div>
                <p class="scatter-description">
                    Este gráfico muestra el número de artículos publicados por año, desde 2010 hasta 2023. La
                    visualización permite
                    identificar tendencias y variaciones en la producción de artículos a lo largo del tiempo.
                </p>
            </div>
        </div>
        <h2>
            Cantidad de publicaciones por fuente Scopus - Web of Science - WoS y Scopus
        </h2>
        <div class="chart-container">
            <canvas id="publicationsBySourceChart"></canvas>
        </div>
        <p class="scatter-description">
            Este gráfico compara la cantidad de publicaciones en las fuentes Scopus, Web of Science y en ambos.
            Permite
            analizar la distribución de las publicaciones entre las diferentes bases de datos.
        </p>

        <h2>
            Relación entre el año de publicación y las citas
        </h2>
        <div class="chart-container">
            <canvas id="citationsByYearChart"></canvas>
        </div>
        <p class="scatter-description">
            Este gráfico muestra la relación entre el año de publicación y las citas recibidas. Permite analizar si
            existe
            una correlación entre el año de publicación y la cantidad de citas que un artículo recibe.
        </p>

        <h2>Top 10 de los autores más productivos</h2>


        <h3>Seleccione el año:</h3>
        <select id="yearSelector">
            <option value="2015">2015</option>
            <option value="2016">2016</option>
            <option value="2017">2017</option>
            <option value="2018">2018</option>
            <option value="2019">2019</option>
            <option value="2020">2020</option>
            <option value="2021">2021</option>
            <option value="2022">2022</option>
            <option value="2023">2023</option>

        </select>



        <div class="chart-container">
            <canvas id="topAuthorsChart"></canvas>
        </div>
        <p class="scatter-description">
            Este gráfico presenta el top 10 de los autores más productivos en función del número de publicaciones.
            La
            visualización destaca a los autores que han contribuido significativamente a la investigación en la
            Universidad.
        </p>


        <h2>Top 10 Cited Chart</h2>
        <div class="chart-container">
            <!-- <canvas id="topCitedChart"></canvas> -->
            <canvas id="topCitedChart" style="height: 800px;"></canvas>
        </div>
        <p class="scatter-description">
            Este gráfico muestra el top 10 de los artículos más citados. La visualización permite identificar los
            trabajos
            que han tenido un mayor impacto en el campo de estudio, en función de la cantidad de citas recibidas.
        </p>

        <h2>Año de publicación y las citas</h2>
        <div class="chart-container">
            <canvas id="yearCitationScatterChart"></canvas>
        </div>
        <p class="scatter-description">
            Este gráfico de dispersión muestra la relación entre el año de publicación y la cantidad de citas que
            han
            recibido
            las publicaciones. Al representar los datos de esta manera, se pueden identificar posibles tendencias o
            patrones,
            como si las publicaciones más recientes tienden a tener más citas que las antiguas, o si hay una
            distribución
            uniforme de citas a lo largo del tiempo. Un gráfico de dispersión es útil para mostrar la distribución
            de los
            datos
            en dos dimensiones y para identificar correlaciones, agrupaciones o posibles outliers. En este caso
            específico,
            permite evaluar el impacto de las publicaciones a lo largo del tiempo en función de la cantidad de citas
            que
            reciben.
        </p>

        <h2>Cantidad de publicaciones por afiliación institucional</h2>
        <div class="chart-container">
            <canvas id="publicationsByInstitutionChart"></canvas>
        </div>

        <h2>Nube de Palabras Clave</h2>
        <svg id="word-cloud" width="960" height="600"></svg>
        <div id="word-cloud"></div>

        <script type="module">
            import {fetchAndProcessData} from './app.js';

            fetchAndProcessData().then(csvData => {
                const yearSelector = document.getElementById("yearSelector");
                yearSelector.addEventListener("change", function () {
                    const selectedYear = yearSelector.value;
                    //processDataByAuthor(csvData, selectedYear);
                    fetchAndProcessData().then((processDataByAuthorWithYear) => {
                        processDataByAuthorWithYear(selectedYear);
                    });
                });
            });

            async function loadNavbar() {
                const response = await fetch('navbar.html');
                const navbarContent = await response.text();
                document.getElementById('navbar-container').innerHTML = navbarContent;
            }

            loadNavbar();
        </script>
        <script type="module" src="app.js"></script>
        <!-- <script type="module" src="search.js"></script> -->
        <script type="module" src="keywords.js"></script>

    </div>
    <!-- jQuery library -->
    <script src="https://code.jquery.com/jquery-3.6.4.slim.min.js"
        integrity="sha256-a2yjHM4jnF9f54xUQakjZGaqYs/V1CYvWpoqZzC2/Bw=" crossorigin="anonymous"></script>

    <!-- Popper.js -->

    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/2.9.2/umd/popper.min.js"
        integrity="sha512-2rNj2KJ+D8s1ceNasTIex6z4HWyOnEYLVC3FigGOmyQCZc2eBXKgOxQmo3oKLHyfcj53uz4QMsRCWNbLd32Q1g=="
        crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <!-- Bootstrap JS -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.2.3/js/bootstrap.min.js"
        integrity="sha512-1/RvZTcCDEUjY/CypiMz+iqqtaoQfAITmNSJY17Myp4Ms5mdxPS5UV7iOfdZoxcGhzFbOm6sntTKJppjvuhg4g=="
        crossorigin="anonymous" referrerpolicy="no-referrer"></script>
</body>

</html>